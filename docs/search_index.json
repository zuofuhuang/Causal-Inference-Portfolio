[
["index.html", "STAT 394 Causal Inference Portfolio Preface", " STAT 394 Causal Inference Portfolio Zuofu Huang, Spring 2020 Macalester College Preface Hello! Welcome to the bookdown of my STAT 394 Causal Inference Portfolio! Contact me if you have any questions. (zuofuhuang@gmail.com) Since we are talking about Causal Inference, of course we need the aid of some old-fashioned comic. Credit: https://xkcd.com/552/ "],
["birth-weight-paradox-uncovered.html", "Chapter 1 Birth Weight Paradox Uncovered?", " Chapter 1 Birth Weight Paradox Uncovered? When people are looking into prenatal care, someone discovered an interesting phenomenon: when we just focus on babies born with regular weight, mother smoking during pregnancy would increase the infant’s mortality rate, which of course makes sense. But if we focus on babies with lower birth weights, mother pregnancy would in turn decrease the infant’s mortality rate. So here’s comes the million-dollar question: Should maternal smoking be encouraged for mothers with premature infants or babies with lower weights? Yes. Just Kidding. Ludicrous as it sounds (I mean, we all know smoking is bad), we are put in a bad situation when data do not support our belief. As the plot shows, for babies with a birth weight lower than 2000g, mortality for infants born to maternal smokers is lower than that of non-smokers. So, is it that smoking somehow triggers bodily responses beneficial to babies, or is there something else going on? Hernandez-Diaz et al. explained the paradox in their paper The Birth Weight “Paradox” Uncovered?. "],
["getting-started-scenarios-1-2.html", "1.1 Getting Started (Scenarios 1-2)", " 1.1 Getting Started (Scenarios 1-2) To investigate why this is the case, researchers proposed a few possibilities why the paradox happened. This is the simplest model the researchers proposed. We may think: “Well, maybe smoking causes low weight babies which then causes infant mortality.” This chain structure of DAG tells us that mortality and smoking are marginally dependent, but conditionally independent on Low Birth Wright. But our data tell us that mortality and smoking are dependent conditioned on Low Birth Weight. This model is not consistent with our findings. Alternatively, we may see the effect of smoking on mortality rate directly. Similarly with Scenario 1, this fork structure of DAG tells us that low birth weight is not a mediating factor in between. But in this case, the effect of smoking on mortality should be the same when we adjust for birth weight. However, this claim is not consistent with our findings. "],
["got-it-scenarios-3-5.html", "1.2 Got it! (Scenarios 3-5)", " 1.2 Got it! (Scenarios 3-5) This is a combination of Scenarios 1 and 2. This complete causal diagram tells us that smoking and mortality are dependent even if we condition on Low Birth Weight. According to Hernandez-Diaz et al., however, most experts find this scenario overly-simplistic. In this causal diagram, even some common causes were not listed as part of the diagram (which we now know is a bad practice!). Congenital defects or conditions such as preeclampsia would contribute to both lower birth weights and infant mortality rates. So what if we do include an unknown factor, let’s say, U? In a more realistic diagram, which is Scenario 4, an unknown (and often unmeasured) variable comes into play. With some foundational knowledge of forks and chains, we know that if we condition on Low Birth Weight, a second path opens up: \\[\\text{Smoking} \\rightarrow \\text{LBW} \\leftarrow \\text{U} \\rightarrow \\text{Mortality}\\] This is a path that gets in the way of understanding the causal relationship between smoking and mortality. Over here, the Paradox seems to reveal itself. We isolate the path that causes us the problem to a new diagram: Scenario 5. When we condition on Low Birth Weight, smoking and U are dependent. Here, we observe that both smoking and U contribute to Low Birth Weight, but U additionally contributes to mortality! In the group with lower birth weight babies, while smokers may not have a high rate of U, non-smokers would necessarily have to have U to be in that group! \\[\\frac{\\text{smokers} \\Leftarrow \\text{not a high rate of U}}{\\text{non-smokers} \\Leftarrow \\text{Necessarily had U!}}\\] Now this is an unfair comparison when we only draw inferences between smoking and infant mortality. We know correlation doesn’t imply causation, but spurious correlation doesn’t unveil paradoxes! "],
["getting-fancy-scenario-6.html", "1.3 Getting fancy (Scenario 6)", " 1.3 Getting fancy (Scenario 6) One way of making our diagram fancier (more realistic) is to add more causal relationships. The most basic way we can do that is adding an arrow from smoking to mortality. In this case, the effect of mortality from smoking conditioned on birth weight would be two fold (because there are two active paths!): The true effects of smoking on mortality (what we want) The unwanted bias from U, the common cause of low birth weights and mortality "],
["getting-really-fancy-scenario-7.html", "1.4 Getting really fancy (Scenario 7)", " 1.4 Getting really fancy (Scenario 7) To best mimic what actually happens in reality, we could then specify two types of low birth weights: Type-I and Type-II, caused by smoking and U respectively. In the most realistic setting, when we condition on LBW, there are three active paths between smoking and mortality! The true effects of smoking on mortality (what we want) \\(\\text{Smoking} \\rightarrow \\text{LBW-Type A} \\rightarrow \\text{LBW} \\leftarrow \\text{LBW-Type B} \\rightarrow \\text{Mortality}\\) This is one of the two unwanted paths we want to eliminate. \\(\\text{Smoking} \\rightarrow \\text{LBW-Type A} \\rightarrow \\text{LBW} \\leftarrow \\text{LBW-Type B} \\leftarrow {U} \\rightarrow \\text{Mortality}\\) This is one of the two unwanted paths, where the unwanted bias from U comes from. Since U is unmeasured, this would fundamentally bias our result. When we condition on the group with low birth weight babies, while smoking does cause both Low Birth Weight and mortality, we believe U is actually a bigger cause of mortality that’s unmeasured! But since U also causes Low Birth Weight, observations who suffer from U, and thus mortality, somehow sneak in the Low Birth Weight group as well and bias the result. And we are done! "],
["paradox-unveiled.html", "1.5 Paradox unveiled", " 1.5 Paradox unveiled 1.5.1 What did we learn? From a “simple” analysis of causal diagrams, we can see how the detrimental effects of smoking can be somehow misconstrued as a beneficial thing for babies. This tells us, for one, the importance of looking into the unwanted paths and adjusting for those. When we attempt to find a causal relationship between two variables that seem to have a lot of intermediate values and common factors, it could be a good idea to first draw a causal diagram and think if we are leaving any “backdoor”, or in this case a “frontdoor” spurious path :) 1.5.2 References Hernández-Díaz, S., Schisterman, E. F., &amp; Hernán, M. A. (2006). The birth weight “paradox” uncovered?. American journal of epidemiology, 164(11), 1115-1120. "],
["inverse-probability-weighting.html", "Chapter 2 Inverse Probability Weighting", " Chapter 2 Inverse Probability Weighting What is inverse probability weighting? It sounds like one of many fancy terms in Causal Inference. It is. But I like to think of it as essentially building a fair playground. Why is that? Hear me out. Consider the following causal diagram (simplified, of course). We want to know more about the causal relationship between A and Y. What should we do? From the idea of d-separation, we know there are two open paths between A and Y: \\(A \\rightarrow Y\\) \\(A \\leftarrow Z \\rightarrow Y\\) Since we are only interested in knowing the first open path, a natural approach would be to condition on Z. In “causal” terms, if treatment A and outcome Y are d-separated given Z under the null hypothesis, then there are no open paths generating unwanted confounding. Then we say that the outcomes of the treated and untreated are comparable, in the sense that we can directly compare the outcome under when \\(A = 0\\) and \\(A = 1\\). But if the numbers of people treated and untreated are different, we cannot make a quite fair comparison (hense a fair playground). Here enters an idea called inverse probability weighting. "],
["a-nice-tree.html", "2.1 A Nice Tree", " 2.1 A Nice Tree Consider the following data: We are motivated to understand the effect of A on Y. How might we approach? If any, we could obtain a tree diagram from the given data. With that, we have the freedom to make the treated and untreated have the same number of people through upscaling. If \\(A = 1\\), the tree becomes: If \\(A = 0\\), the tree becomes: Let’s break this down. Take the upper branch of the \\(A = 0\\) scenario as an example. In this scenario, we pretend that no one was treated, with the hope to learn how the outcome changes. Therefore, under the \\(Z = 1\\) branch, the \\(A = 1\\) group doesn’t exist anymore. Reasonably, we can upscale the \\(A = 1\\) group (\\(n = 30\\)) to the size of the sample space (\\(n = 60\\)) by \\(\\frac{60}{30}\\). This fraction \\(\\frac{60}{30}\\) is called the weight. \\(\\frac{30}{60}\\) is \\(P(A = 0 \\mid Z)\\), and this weight is the inverse of \\(P(A = 0 \\mid Z)\\). Hence the name inverse probability weighting (IP weighting). Now we can count the outcome given \\(A = 1\\) and \\(A = 0\\). In the \\(A = 1\\) tree diagram, \\(P(Y = 1) = (54 + 28)/100 = 0.82\\). This probability is called \\(P(Y = 1 \\mid \\text{do}(A = 1))\\). In the \\(A = 0\\) tree diagram, \\(P(Y = 1) = (24 + 8)/100 = 0.32\\). This probability is called \\(P(Y = 1 \\mid \\text{do}(A = 0))\\). "],
["do-probability-and-causal-effect.html", "2.2 Do-Probability and Causal Effect", " 2.2 Do-Probability and Causal Effect This may be different from what you know about conditional probability, but first convince yourself that \\(P(Y = 1 \\mid \\text{do}(A = 1)) \\neq P(Y = 1 \\mid A = 1)\\). From the initial tree diagram, we can count that \\((Y = 1 \\mid A = 1) = \\frac{27 + 21}{30 + 30} = 0.8 \\neq 0.82\\). Why is this the case? It turns out that this is related to one notion of causation: intervention. \\(P(Y = 1 \\mid A = 1)\\) is an observational probability (i.e. What do we observe given \\(A = 1\\)?) \\(P(Y = 1 \\mid \\text{do}(A = 1))\\) is an intervention probability. Intervening on A is the same as removing all arrows into A. This makes intuitive sense. What we did in the last section was that we set A to a certain value no matter what factors actually influence A. In other words, we intervene or force how A behaves. Finally, we are ready to define the causal effect of A on Y: \\[\\text{ACE (Average Causal Effect)} = P(Y = 1 \\mid \\text{do}(A = 1)) - P(Y = 1 \\mid \\text{do}(A = 0))\\] If \\(\\text{ACE} = 0.5\\): We interpret it as the probability of \\(Y = 1\\) is \\(50\\%\\) higher if we have everyone treated, compared with if we have no one treated. Hope this helps your understanding of some more basic causal inference! Stay tuned for the next post. "],
["references-1.html", "2.3 References", " 2.3 References Myint, Leslie. (2020). STAT 394: Causal Inference. Retrieved April. 7th, 2020. https://lmyint.github.io/causal_spring_2020/ "]
]
